import{a as w,h as k,w as y,o as p,k as s,e as r,f as m,v,aa as C,x as g,g as c,F as $,K as x,c as b,U as h,ab as M}from"./DPlMRrvx.js";const j={ref:"media",class:"overflow-hidden",style:{"--_mediaColor":"var(--mediaColor,var(--color-text-disabled))"}},E={class:"relative h-full w-full"},I={key:0},V={key:0,class:"absolute h-full w-full"},z={class:"grid size-full place-items-center bg-(--_mediaColor)/30 text-(--_mediaColor) transition-[color,background]"},B=["src"],F=["src"],L=w({__name:"SmartMedia",props:{url:{}},setup(e){const o=b(()=>{if(!e.url)return null;const i=e.url.split(".").pop()||"";if(M(e.url))return"icon";if(["mp4","webm","ogg"].includes(i))return"video";if(["jpg","jpeg","png","gif","svg","webp"].includes(i))return"image";throw new Error(`Unknown media type for URL: ${e.url}`)}),n=h(!1),t=h(!1),d=b(()=>!e.url||!t.value||!n.value),a=k("media");return y(()=>e.url,()=>{t.value=!1}),p(()=>{const i=new IntersectionObserver(l=>{l.forEach(u=>{n.value=u.isIntersecting})});a.value&&i.observe(a.value)}),(i,l)=>{const u=C,_=x;return s(),r("div",j,[m("div",E,[v(u,null,{default:g(()=>[d.value?(s(),r("div",I,[...l[3]||(l[3]=[m("div",{class:"absolute z-10 h-full w-full animate-pulse bg-(--_mediaColor)/50 transition-[opacity,background]"},null,-1)])])):c("",!0)]),_:1}),v(u,null,{default:g(()=>[n.value?(s(),r($,{key:0},[o.value==="icon"?(s(),r("div",V,[m("div",z,[v(_,{onVnodeMounted:l[0]||(l[0]=f=>t.value=!0),name:e.url,class:"h-2/3 w-2/3"},null,8,["name"])])])):c("",!0),o.value==="image"?(s(),r("img",{key:1,src:e.url,loading:"lazy",onLoad:l[1]||(l[1]=f=>t.value=!0),class:"absolute block h-full w-full object-cover"},null,40,B)):o.value==="video"?(s(),r("video",{key:2,src:e.url,onLoadeddata:l[2]||(l[2]=f=>t.value=!0),autoplay:"",muted:"",loop:"",playsinline:"",class:"absolute block h-full w-full object-cover"},null,40,F)):c("",!0)],64)):c("",!0)]),_:1})])],512)}}}),O=Object.assign(L,{__name:"SmartMedia"});function T(e){let o=0;for(let a=0;a<e.length;a++)o=e.charCodeAt(a)+((o<<5)-o);const n=o%360,t=`hsl(${n}, 70%, 35%)`,d=`hsl(${n}, 75%, 70%)`;return`light-dark(${t}, ${d})`}export{O as _,T as s};
