import{s as T,_ as $}from"./FipvPNIo.js";import{W as C,X as B,N as s,a0 as f,a5 as E,ac as t,af as L,S as x,P as n,R as d,a3 as A,Q as k,O as v,ae as h,a4 as c,ai as _,a8 as S,ab as z,bu as U,al as M,av as N,a1 as O,Y as R,ag as j}from"./BSEE-zqw.js";const G={class:"gap-normal flex items-center"},V={class:"text-[0.9em]"},D={key:0,class:"pt-small text-text-muted text-sm"},F=C({__name:"Contribution",props:{contribution:{}},setup(e){const a=B();return(o,b)=>{const l=$,u=E;return s(),f(u,{to:("PAGES"in o?o.PAGES:t(L)).contributor(e.contribution.contributorId),class:"p-normal hocus:bg-bg-accent block bg-transparent transition-[background]"},{default:x(()=>[n("div",G,[d(l,{class:"micro:size-[40px] size-[30px] shrink-0 rounded-full",style:A({"--mediaColor":("stringColor"in o?o.stringColor:t(T))(e.contribution.contributorId)}),url:e.contribution.avatarUrl?t(a)(e.contribution.avatarUrl):"user"},null,8,["style","url"]),n("span",V,k(e.contribution.name||e.contribution.contributorId),1)]),e.contribution.description?(s(),v("div",D,k(("formatText"in o?o.formatText:t(h))(e.contribution.description)),1)):c("",!0)]),_:1},8,["to"])}}}),et=Object.assign(F,{__name:"AsideMinorContentContribution"}),q={key:0,class:"absolute top-0 left-0 z-10 h-full w-full"},Q={class:"bg-bg-aside flex h-full w-full flex-col justify-end"},W={class:"nice-scrollbars overflow-auto *:border-t *:border-b-0"},X={class:"border-border flex items-center border-t py-1 pr-0"},Y={class:"pl-normal flex-1 text-sm font-semibold"},H={class:"border-border group-hocus:border-text-dimmed grid size-[40px] place-items-center rounded-full border-3 border-dashed transition-[border]"},J=C({__name:"ButtonPaneImprove",props:{contentRelativePath:{},contentType:{},topicPart:{}},async setup(e){let a,o;const b=R(!1),l=_.config.contributors?.howToImproveLink,u=_.config.contributors?.reportIssueLink,g=j(()=>{const r=_.config.contributors?.editLinkPrefix;if(r){const i=(()=>{switch(e.contentType){case"book":return"/book.ts";case"page":return"/page.tsx";case"group":return"/group.ts";case"topic":return`/${e.topicPart}.tsx`}})();return`${r}${e.contentRelativePath}${i}`}}),w=_.config.contributors?.enabled&&(l||u||g),m=([a,o]=S(()=>z("make_contribution","improve_material","how_to_improve","report_issue","edit_page")),a=await a,o(),a);return(r,i)=>{const p=U,y=M,I=N;return t(w)?(s(),v(O,{key:0},[d(I,null,{default:x(()=>[t(b)?(s(),v("div",q,[n("div",Q,[n("div",W,[t(l)?(s(),f(p,{key:0,icon:"question-circle",main:t(m).how_to_improve,to:t(l),target:"_blank"},null,8,["main","to"])):c("",!0),t(u)?(s(),f(p,{key:1,icon:"bug",main:t(m).report_issue,to:t(u),target:"_blank"},null,8,["main","to"])):c("",!0),t(g)?(s(),f(p,{key:2,icon:"draw",main:t(m).edit_page,to:t(g),target:"_blank"},null,8,["main","to"])):c("",!0)]),n("div",X,[n("div",Y,k(("formatText"in r?r.formatText:t(h))(t(m).improve_material)),1),n("button",{onClick:i[0]||(i[0]=P=>b.value=!1),class:"text-text-muted hocus:text-text p-normal cursor-pointer transition-[color]"},[d(y,{name:"plus",class:"rotate-45 text-[24px] leading-none"})])])])])):c("",!0)]),_:1}),d(p,{main:("formatText"in r?r.formatText:t(h))(t(m).make_contribution),onClick:i[1]||(i[1]=P=>b.value=!0),class:"group border-t border-b-0 py-1"},{icon:x(()=>[n("div",H,[d(y,{name:"draw",class:"text-text-muted size-[56%]"})])]),_:1},8,["main"])],64)):c("",!0)}}}),ot=Object.assign(J,{__name:"AsideMinorContentButtonPaneImprove"});export{ot as B,et as C};
