import{X as w,au as k,aB as y,$ as p,O as s,Q as r,R as m,T as v,aw as C,U as g,a5 as c,a2 as $,al as x,ag as b,Z as h,aC as M}from"./D_GAU_kb.js";const j={ref:"media",class:"overflow-hidden",style:{"--_mediaColor":"var(--mediaColor,var(--color-text-disabled))"}},B={class:"relative h-full w-full"},E={key:0},I={key:0,class:"absolute h-full w-full"},O={class:"grid size-full place-items-center bg-(--_mediaColor)/30 text-(--_mediaColor) transition-[color,background]"},T=["src"],V=["src"],z=w({__name:"SmartMedia",props:{url:{}},setup(e){const o=b(()=>{if(!e.url)return null;const i=e.url.split(".").pop()||"";if(M(e.url))return"icon";if(["mp4","webm","ogg"].includes(i))return"video";if(["jpg","jpeg","png","gif","svg","webp"].includes(i))return"image";throw new Error(`Unknown media type for URL: ${e.url}`)}),a=h(!1),t=h(!1),d=b(()=>!e.url||!t.value||!a.value),n=k("media");return y(()=>e.url,()=>{t.value=!1}),p(()=>{const i=new IntersectionObserver(l=>{l.forEach(u=>{a.value=u.isIntersecting})});n.value&&i.observe(n.value)}),(i,l)=>{const u=C,_=x;return s(),r("div",j,[m("div",B,[v(u,null,{default:g(()=>[d.value?(s(),r("div",E,[...l[3]||(l[3]=[m("div",{class:"absolute z-10 h-full w-full animate-pulse bg-(--_mediaColor)/50 transition-[opacity,background]"},null,-1)])])):c("",!0)]),_:1}),v(u,null,{default:g(()=>[a.value?(s(),r($,{key:0},[o.value==="icon"?(s(),r("div",I,[m("div",O,[v(_,{onVnodeMounted:l[0]||(l[0]=f=>t.value=!0),name:e.url,class:"h-2/3 w-2/3"},null,8,["name"])])])):c("",!0),o.value==="image"?(s(),r("img",{key:1,src:e.url,loading:"lazy",onLoad:l[1]||(l[1]=f=>t.value=!0),class:"absolute block h-full w-full object-cover"},null,40,T)):o.value==="video"?(s(),r("video",{key:2,src:e.url,onLoadeddata:l[2]||(l[2]=f=>t.value=!0),autoplay:"",muted:"",loop:"",playsinline:"",class:"absolute block h-full w-full object-cover"},null,40,V)):c("",!0)],64)):c("",!0)]),_:1})])],512)}}}),N=Object.assign(z,{__name:"SmartMedia"});function R(e){let o=0;for(let n=0;n<e.length;n++)o=e.charCodeAt(n)+((o<<5)-o);const a=o%360,t=`hsl(${a}, 70%, 35%)`,d=`hsl(${a}, 75%, 70%)`;return`light-dark(${t}, ${d})`}export{N as _,R as s};
