import{Q as u,H as v,I as m,af as y,a2 as i,U as G,M as c,L as l,a6 as a,aL as C,J as T,K as g}from"./D2eihLR_.js";import{a as I,u as E}from"./3TVwIgt5.js";import{u as B}from"./CirMzkog.js";import{u as H}from"./CsjOJ_iA.js";const L=u({__name:"Inliner",props:{element:{}},setup(r){return(e,n)=>(m(),v("span",null,[y(e.$slots,"default")]))}}),M=u({__name:"Link",props:{element:{}},async setup(r){let e,n;const{EruditIcon:p,EruditLink:d,eruditIcons:f,setPreview:x,closePreview:b,baseUrl:_}=I(),w=E(),t=([e,n]=i(()=>B(r.element)),e=await e,n(),e),h=([e,n]=i(async()=>(async()=>{switch(t.type){case"direct":return"arrow/outward-box";case"contentItem":return f[t.content.contentType==="topic"?t.content.topicPart:t.content.contentType];case"unique":return await H(t.schemaName)}})()),e=await e,n(),e),o={timeout:void 0,startTimeout(){this.timeout=setTimeout(()=>{this.reset()},400)},reset(){clearTimeout(this.timeout),this.timeout=void 0}};function k(){if(o.timeout){o.reset(),b();const s=t.type==="direct"?t.resolvedHref:_+t.resolvedHref.slice(1);return window.open(s,"_blank"),!1}return x(t.previewRequest),o.startTimeout(),!1}return(s,P)=>(m(),G(L,{element:r.element},{default:c(()=>[l(a(d),{onClickCapture:C(k,["prevent"]),to:a(t).resolvedHref,style:{"--tGap":"1px","--xGap":"4px","--bGap":"4px"},class:"text-brand hocus:bg-brand/15 relative -mx-[calc(var(--xGap)-3px)] -mt-(--tGap) -mb-(--bGap) rounded-sm bg-transparent px-(--xGap) pt-(--tGap) pb-(--bGap) underline decoration-[color-mix(in_srgb,var(--color-brand)30%,transparent)] decoration-2 underline-offset-2 transition-[color,background]"},{default:c(()=>[l(a(p),{name:a(h),class:"micro:pr-1.5 inline pr-1 text-[1.3em]"},null,8,["name"]),T("span",null,g(a(w)(r.element.data.label)),1)]),_:1},8,["to"])]),_:1},8,["element"]))}});export{M as default};
