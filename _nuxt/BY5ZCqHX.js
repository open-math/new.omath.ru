import{u as B}from"./SluB1RCD.js";import{$ as C,aH as w,Z as d}from"./DBNqVam1.js";function S(a,t,p,h){const n=d(!1),e=d(),{floatingStyles:L}=B(a,p,h);function s(){e.value=setTimeout(()=>{n.value=!0},400)}function o(){e.value&&clearTimeout(e.value),k(),T(),v(),n.value=!1}const i=u=>(u.preventDefault(),u.stopPropagation(),!1);function m(){t.value&&t.value.addEventListener("contextmenu",i)}function T(){t.value&&t.value.removeEventListener("contextmenu",i)}const r=()=>{e.value&&clearTimeout(e.value)};function b(){addEventListener("scroll",r),addEventListener("resize",r)}function k(){removeEventListener("scroll",r),removeEventListener("resize",r)}const l=u=>{if(!n.value)return;const c=a.value;if(!c)return;const f=u.target;f&&c.contains(f)||o()};function x(){addEventListener("touchstart",l,!0)}function v(){removeEventListener("touchstart",l,!0)}return C(()=>{a.value&&(a.value.addEventListener("mouseenter",s),a.value.addEventListener("mouseleave",o)),t.value&&(t.value.addEventListener("touchstart",u=>{n.value?o():(b(),m(),x(),s())}),t.value.addEventListener("touchend",u=>{e.value&&clearTimeout(e.value)}))}),w(()=>{e.value&&clearTimeout(e.value),v()}),{popupVisible:n,popupStyles:L,showPopup:s,hidePopup:o}}export{S as u};
