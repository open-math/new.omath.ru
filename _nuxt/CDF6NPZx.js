import{a as w,c as g,ab as k,U as b,u as y,w as p,o as C,e as s,k as r,f as m,v,aa as $,x as h,g as c,F as x,K as M}from"./Co3pHHec.js";const j={ref:"media",class:"overflow-hidden",style:{"--_mediaColor":"var(--mediaColor,var(--color-text-disabled))"}},E={class:"relative h-full w-full"},I={key:0},V={key:0,class:"absolute h-full w-full"},z={class:"grid size-full place-items-center bg-(--_mediaColor)/30 text-(--_mediaColor) transition-[color,background]"},B=["src"],F=["src"],L=w({__name:"SmartMedia",props:{url:{}},setup(e){const o=g(()=>{if(!e.url)return null;const i=e.url.split(".").pop()||"";if(k(e.url))return"icon";if(["mp4","webm","ogg"].includes(i))return"video";if(["jpg","jpeg","png","gif","svg","webp"].includes(i))return"image";throw new Error(`Unknown media type for URL: ${e.url}`)}),n=b(!1),t=b(!1),d=g(()=>!e.url||!t.value||!n.value),a=y("media");return p(()=>e.url,()=>{t.value=!1}),C(()=>{const i=new IntersectionObserver(l=>{l.forEach(u=>{n.value=u.isIntersecting})});a.value&&i.observe(a.value)}),(i,l)=>{const u=$,_=M;return r(),s("div",j,[m("div",E,[v(u,null,{default:h(()=>[d.value?(r(),s("div",I,[...l[3]||(l[3]=[m("div",{class:"absolute z-10 h-full w-full animate-pulse bg-(--_mediaColor)/50 transition-[opacity,background]"},null,-1)])])):c("",!0)]),_:1}),v(u,null,{default:h(()=>[n.value?(r(),s(x,{key:0},[o.value==="icon"?(r(),s("div",V,[m("div",z,[v(_,{onVnodeMounted:l[0]||(l[0]=f=>t.value=!0),name:e.url,class:"h-2/3 w-2/3"},null,8,["name"])])])):c("",!0),o.value==="image"?(r(),s("img",{key:1,src:e.url,loading:"lazy",onLoad:l[1]||(l[1]=f=>t.value=!0),class:"absolute block h-full w-full object-cover"},null,40,B)):o.value==="video"?(r(),s("video",{key:2,src:e.url,onLoadeddata:l[2]||(l[2]=f=>t.value=!0),autoplay:"",muted:"",loop:"",playsinline:"",class:"absolute block h-full w-full object-cover"},null,40,F)):c("",!0)],64)):c("",!0)]),_:1})])],512)}}}),O=Object.assign(L,{__name:"SmartMedia"});function T(e){let o=0;for(let a=0;a<e.length;a++)o=e.charCodeAt(a)+((o<<5)-o);const n=o%360,t=`hsl(${n}, 70%, 35%)`,d=`hsl(${n}, 75%, 70%)`;return`light-dark(${t}, ${d})`}export{O as _,T as s};
