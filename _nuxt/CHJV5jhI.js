import{X as h,a9 as i,O as v,a1 as k,U as c,T as m,ac as a,aT as y,R as T,S as G}from"./DtnvSbKK.js";import{u as C}from"./CL9njTo0.js";import{u as g}from"./B4Lg61PU.js";import{u as E}from"./DNJxAskr.js";import{u as I}from"./SfEJcvxn.js";import{_ as P}from"./tdeDPzHN.js";const S={class:"whitespace-normal"},V=h({__name:"Link",props:{element:{}},async setup(o){let t,n;const{EruditIcon:l,EruditLink:p,eruditIcons:u,setPreview:d,closePreview:f,baseUrl:x}=C(),b=g(),e=([t,n]=i(()=>E(o.element)),t=await t,n(),t),w=([t,n]=i(async()=>(async()=>{switch(e.type){case"direct":return"arrow/outward-box";case"contentItem":return u[e.content.contentType==="topic"?e.content.topicPart:e.content.contentType];case"unique":return await I(e.schemaName)}})()),t=await t,n(),t),r={timeout:void 0,startTimeout(){this.timeout=setTimeout(()=>{this.reset()},400)},reset(){clearTimeout(this.timeout),this.timeout=void 0}};function _(){if(r.timeout){r.reset(),f();const s=e.type==="direct"?e.resolvedHref:x+e.resolvedHref.slice(1);return window.open(s,"_blank"),!1}return d(e.previewRequest),r.startTimeout(),!1}return(s,B)=>(v(),k(P,{element:o.element},{default:c(()=>[m(a(p),{onClickCapture:y(_,["prevent"]),to:a(e).resolvedHref,style:{"--tGap":"1px","--xGap":"4px","--bGap":"4px"},class:"text-brand hocus:bg-brand/15 relative -mx-[calc(var(--xGap)-3px)] -mt-(--tGap) -mb-(--bGap) rounded-sm bg-transparent px-(--xGap) pt-(--tGap) pb-(--bGap) whitespace-nowrap underline decoration-[color-mix(in_srgb,var(--color-brand)30%,transparent)] decoration-2 underline-offset-2 transition-[background]"},{default:c(()=>[m(a(l),{name:a(w),class:"micro:pr-1.5 inline pr-1 text-[1.3em]"},null,8,["name"]),T("span",S,G(a(b)(o.element.data.label)),1)]),_:1},8,["to"])]),_:1},8,["element"]))}});export{V as default};
