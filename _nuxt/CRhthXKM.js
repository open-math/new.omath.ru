import{aW as U,_ as H,N as i,O as p,W as A,aw as N,ad as w,P as o,R as m,ac as a,Q as C,S as M,Y as B,a8 as $,a0 as I,a4 as b,ag as z,Z as O,aA as Q,$ as X,am as Y,au as P,aX as K,a3 as ee}from"./BSEE-zqw.js";import{u as te}from"./Bs6KpGr0.js";import{u as h,a as ae}from"./DDvRqF73.js";import{u as ne}from"./CeQNkxOL.js";import{u as se,d as oe,e as le}from"./g1iOREh3.js";import{s as ie}from"./D5fLQY3u.js";import{a as re}from"./Dr_HzK-q.js";import{a as ce,o as ue,s as de}from"./BokzypnP.js";const me={en:()=>U(()=>import("./BBZfN8yp.js"),[],import.meta.url),ru:()=>U(()=>import("./2QeJnGn1.js"),[],import.meta.url)};async function pe(){const{languageCode:e}=h();return(await me[e]()).default}async function ve(e){const{languageCode:t}=h();return await ae(typeof e=="string"?e:e.schema.name).languages[t]()}const fe={},ge={class:"border-border/80 my-(--asideMenuGap)"};function _e(e,t){return i(),p("hr",ge)}const be=H(fe,[["render",_e]]),he={class:"pointer-events-none invisible flex touch-none flex-wrap items-center gap-(--asideMenuGapBig) px-(--asideMenuGapBig) py-(--asideMenuGap)"},ke=A({__name:"AsideMenuButton",props:{icon:{},title:{},brand:{type:Boolean}},setup(e){const{EruditIcon:t,EruditTransition:l}=h(),r=B(0);return N(()=>[e.icon,e.title],()=>{r.value++}),(u,v)=>(i(),p("button",{class:w(["relative cursor-pointer text-left text-xs transition-[color,background]",e.brand?"text-brand bg-brand/10":"hocus:bg-bg-accent text-text-muted hocus:text-text"])},[o("div",he,[m(a(t),{name:e.icon,class:"shrink-0 text-[1.2em]"},null,8,["name"]),o("div",null,C(e.title),1)]),m(a(l),null,{default:M(()=>[(i(),p("div",{key:r.value,class:"absolute top-0 left-0 flex flex-wrap items-center gap-(--asideMenuGapBig) px-(--asideMenuGapBig) py-(--asideMenuGap)"},[m(a(t),{name:e.icon,class:"shrink-0 text-[1.2em]"},null,8,["name"]),o("div",null,C(e.title),1)]))]),_:1})],2))}}),ye=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">\r
    <path d="M680-80q-50 0-85-35t-35-85q0-6 3-28L282-392q-16 15-37 23.5t-45 8.5q-50 0-85-35t-35-85q0-50 35-85t85-35q24 0 45 8.5t37 23.5l281-164q-2-7-2.5-13.5T560-760q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35q-24 0-45-8.5T598-672L317-508q2 7 2.5 13.5t.5 14.5q0 8-.5 14.5T317-452l281 164q16-15 37-23.5t45-8.5q50 0 85 35t35 85q0 50-35 85t-85 35Z"/>\r
</svg>`,xe=A({__name:"AsideMenuCopyLink",props:{elementId:{}},async setup(e){let t,l;const{pathUrl:r,baseUrl:u}=h(),v=([t,l]=$(()=>pe()),t=await t,l(),t),c=B(!1);let f;async function d(){await navigator.clipboard.writeText(location.origin+u+r.substring(1)+"?element="+e.elementId),c.value=!0,f&&clearTimeout(f),f=window.setTimeout(()=>{c.value=!1,f=void 0},2500)}return(E,L)=>(i(),I(ke,{brand:c.value,icon:c.value?a(ie):a(ye),title:c.value?a(v).copied:a(v).copy_link,onClick:d},null,8,["brand","icon","title"]))}}),we={style:{"--asideMenuGap":"5px","--asideMenuGapBig":"calc(var(--asideMenuGap) * 2)"},class:"bg-bg-main border-border flex w-40 flex-col rounded-sm border py-(--asideMenuGap) font-sans shadow-[0_0_12px_5px_light-dark(rgba(0,0,0,0.12),rgba(255,255,255,0.08))] backface-hidden"},Me={class:"flex items-center gap-(--asideMenuGapBig) px-(--asideMenuGapBig) py-(--asideMenuGap) text-xs font-medium"},Be=A({__name:"AsideMenu",props:{element:{}},async setup(e){let t,l;const r=z(()=>!!e.element.id),u=z(()=>r.value),v=([t,l]=$(()=>ve(e.element)),t=await t,l(),t);return(c,f)=>(i(),p("div",we,[o("div",Me,[o("div",null,C(a(v).element_name),1)]),u.value?(i(),I(be,{key:0})):b("",!0),r.value?(i(),I(xe,{key:1,elementId:e.element.id},null,8,["elementId"])):b("",!0)]))}}),Ae=["id"],Ee={class:"relative"},qe={class:"sticky top-0"},Te={class:"relative ml-(--proseAsideWidth)"},Ge={key:0},Pe=A({__name:"Block",props:{element:{}},async setup(e){let t,l;const{EruditIcon:r,EruditTransition:u,setHtmlIds:v}=h(),c=([t,l]=$(()=>ne(e.element)),t=await t,l(),t),f=re();f.quote="closed";const d=P("block"),E=P("aside"),L=P("asideMenu"),k=B(!1),g=B(!1),{floatingStyles:Z}=te(E,L,{whileElementsMounted:ce,placement:"right-start",strategy:"fixed",middleware:[ue(10),de({rootBoundary:"viewport"})]}),q=s=>{if(!g.value)return;const n=E.value;n&&(n.contains(s.target)||(g.value=!1))},S=se(e.element),F=oe(),j=le(),J=(s,n,R)=>{let y={top:0,left:0},x,_,T=!1;const D=()=>{if(T)return;const W=s.getBoundingClientRect(),G={top:W.top,left:W.left};(y.top!==G.top||y.left!==G.left)&&(y=G,clearTimeout(x),x=window.setTimeout(()=>{T=!0,n()},300)),_=requestAnimationFrame(D)},V=s.getBoundingClientRect();y={top:V.top,left:V.left},x=window.setTimeout(()=>{T=!0,cancelAnimationFrame(_),n()},300),_=requestAnimationFrame(D),R(()=>{clearTimeout(x),_!==void 0&&cancelAnimationFrame(_)})};return N(g,s=>{s?document.addEventListener("click",q):document.removeEventListener("click",q)}),O(()=>{Q(async s=>{S.value&&(F(d.value),J(d.value,()=>{F(d.value),j()},s))}),k.value=d.value.matches(":hover"),d.value.addEventListener("mouseenter",()=>{k.value=!0}),d.value.addEventListener("mouseleave",()=>{k.value=!1})}),X(()=>{document.removeEventListener("click",q)}),(s,n)=>(i(),p("div",{ref:"block",id:a(v)?e.element.id:void 0,class:w([s.$style.block,"scroll-mt-big pr-(--proseAsideWidth)"])},[o("div",{class:w([s.$style.blockAbove,"h-(--proseGap)"])},null,2),o("div",Ee,[o("aside",{ref:"aside",onClick:n[1]||(n[1]=R=>g.value=!g.value),class:"group/aside absolute top-0 left-0 h-full w-(--proseAsideWidth) cursor-pointer"},[n[2]||(n[2]=o("div",{class:"micro:rounded-sm group-hocus/aside:bg-bg-accent absolute top-0 left-0 h-full w-full bg-transparent transition-[background]"},null,-1)),o("div",qe,[m(a(u),{mode:"out-in"},{default:M(()=>[k.value?(i(),p("div",{key:a(c)},[m(a(r),{name:a(c),class:"text-text-dimmed group-hocus/aside:text-text m-auto mt-0.5 aspect-square w-[80%] transition-[color]"},null,8,["name"])])):b("",!0)]),_:1})]),m(a(u),null,{default:M(()=>[g.value?(i(),p("div",{key:0,ref:"asideMenu",style:ee(a(Z)),onClick:n[0]||(n[0]=K(()=>{},["stop"])),class:"z-10 cursor-auto"},[m(Be,{element:e.element},null,8,["element"])],4)):b("",!0)]),_:1})],512),o("main",Te,[Y(s.$slots,"default"),m(a(u),null,{default:M(()=>[a(S)?(i(),p("div",Ge,[...n[3]||(n[3]=[o("div",{class:"bg-brand animate-fade-out pointer-events-none absolute -top-(--overlayPadding) -right-(--overlayPadding) -bottom-(--overlayPadding) -left-(--overlayPadding) touch-none rounded opacity-0 shadow-[0_0_18px_1px_var(--color-brand)] [--overlayPadding:5px]"},null,-1)])])):b("",!0)]),_:1})])]),o("div",{class:w([s.$style.blockBelow,"h-(--proseGap)"])},null,2)],10,Ae))}}),Ce="_block_acq10_7",Ie="_blockAbove_acq10_7",$e="_blockBelow_acq10_15",Le={block:Ce,blockAbove:Ie,blockBelow:$e},Se={$style:Le},Ze=H(Pe,[["__cssModules",Se]]);export{Ze as B,ve as u};
