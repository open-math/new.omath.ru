import{u as p}from"./CDUyxJFM.js";import{d as y,l as w}from"./DN10LihG.js";import{B as g}from"./BSEBvKzf.js";import{_ as k}from"./BozMPwT5.js";import{W as x,a8 as _,au as B,Z as I,aJ as V,N as c,a0 as u,S as $,P as C,aF as D,ac as r,a4 as L,Y as l,_ as M}from"./Du3Wvoik.js";import"./BL9_poU1.js";import"./C5uj1jvb.js";import"./BokzypnP.js";import"./tBfX1gVd.js";import"./B3LqoS7A.js";import"./D5fLQY3u.js";import"./tKM8BPJ_.js";import"./DV0FzFYP.js";const S=["src"],b=x({__name:"Video",props:{element:{}},async setup(e){let a,i;const v=([a,i]=_(()=>p(e.element)),a=await a,i(),a),m=B("video"),n=l(null),s=l(!1),o=l(!1);return e.element.data.autoplay||(s.value=!0,o.value=!0),I(()=>{if(!m.value)return;const t=m.value,d={rootMargin:"0px 0px 75px 0px",threshold:0};n.value=new IntersectionObserver(f=>{const h=f[0];try{h.isIntersecting?(s.value=!0,o.value||t.play()):(s.value?o.value=t.paused:o.value=!1,t.pause())}catch{}},d),n.value.observe(t)}),V(()=>{n.value&&n.value.disconnect()}),(t,d)=>(c(),u(g,{element:e.element},{default:$(()=>[C("video",D({ref:"video",src:r(v).resolvedSrc,preload:"metadata",loop:"",muted:"",playsinline:"",controls:"",class:["m-auto rounded-xl",{[r(w)+" "+t.$style.invertLight]:e.element.data.invert==="light",[r(y)+" "+t.$style.invertDark]:e.element.data.invert==="dark"}]},e.element.data.width?{style:{width:e.element.data.width,maxWidth:`min(${e.element.data.width}, 100%)`}}:{}),null,16,S),e.element.children?(c(),u(k,{key:0,caption:e.element.children[0]},null,8,["caption"])):L("",!0)]),_:1},8,["element"]))}}),N="_invertLight_1wd39_3",P="_invertDark_1wd39_5",E={invertLight:N,invertDark:P},W={$style:E},H=M(b,[["__cssModules",W]]);export{H as default};
