import{Q as w,a4 as g,au as k,R as b,an as p,av as y,S as C,H as s,I as r,J as m,L as v,ap as $,M as h,V as d,W as x,ad as M}from"./D2eihLR_.js";const j={ref:"media",class:"overflow-hidden",style:{"--_mediaColor":"var(--mediaColor,var(--color-text-disabled))"}},I={class:"relative h-full w-full"},V={key:0},E={key:0,class:"absolute h-full w-full"},L={class:"grid size-full place-items-center bg-(--_mediaColor)/30 text-(--_mediaColor) transition-[color,background]"},z=["src"],B=["src"],N=w({__name:"SmartMedia",props:{url:{}},setup(e){const o=g(()=>{if(!e.url)return null;const i=e.url.split(".").pop()||"";if(k(e.url))return"icon";if(["mp4","webm","ogg"].includes(i))return"video";if(["jpg","jpeg","png","gif","svg","webp"].includes(i))return"image";throw new Error(`Unknown media type for URL: ${e.url}`)}),n=b(!1),t=b(!1),c=g(()=>!e.url||!t.value||!n.value),a=p("media");return y(()=>e.url,()=>{t.value=!1}),C(()=>{const i=new IntersectionObserver(l=>{l.forEach(u=>{n.value=u.isIntersecting})});a.value&&i.observe(a.value)}),(i,l)=>{const u=$,_=M;return r(),s("div",j,[m("div",I,[v(u,null,{default:h(()=>[c.value?(r(),s("div",V,[...l[3]||(l[3]=[m("div",{class:"absolute z-10 h-full w-full animate-pulse bg-(--_mediaColor)/50 transition-[opacity,background]"},null,-1)])])):d("",!0)]),_:1}),v(u,null,{default:h(()=>[n.value?(r(),s(x,{key:0},[o.value==="icon"?(r(),s("div",E,[m("div",L,[v(_,{onVnodeMounted:l[0]||(l[0]=f=>t.value=!0),name:e.url,class:"h-2/3 w-2/3"},null,8,["name"])])])):d("",!0),o.value==="image"?(r(),s("img",{key:1,src:e.url,loading:"lazy",onLoad:l[1]||(l[1]=f=>t.value=!0),class:"absolute block h-full w-full object-cover"},null,40,z)):o.value==="video"?(r(),s("video",{key:2,src:e.url,onLoadeddata:l[2]||(l[2]=f=>t.value=!0),autoplay:"",muted:"",loop:"",playsinline:"",class:"absolute block h-full w-full object-cover"},null,40,B)):d("",!0)],64)):d("",!0)]),_:1})])],512)}}}),R=Object.assign(N,{__name:"SmartMedia"});function S(e){let o=0;for(let a=0;a<e.length;a++)o=e.charCodeAt(a)+((o<<5)-o);const n=o%360,t=`hsl(${n}, 70%, 35%)`,c=`hsl(${n}, 75%, 70%)`;return`light-dark(${t}, ${c})`}export{R as _,S as s};
