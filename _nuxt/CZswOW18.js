import{aK as D,a7 as _,Y as N,$ as I,N as T,O as x,Q as b,aF as B,ag as a}from"./DN7F3Kmz.js";const A=["datetime","title"],k={__name:"NuxtTime",props:{locale:{type:String,required:!1},datetime:{type:[String,Number,Date],required:!0},localeMatcher:{type:String,required:!1},weekday:{type:String,required:!1},era:{type:String,required:!1},year:{type:String,required:!1},month:{type:String,required:!1},day:{type:String,required:!1},hour:{type:String,required:!1},minute:{type:String,required:!1},second:{type:String,required:!1},timeZoneName:{type:String,required:!1},formatMatcher:{type:String,required:!1},hour12:{type:Boolean,required:!1,default:void 0},timeZone:{type:String,required:!1},calendar:{type:String,required:!1},dayPeriod:{type:String,required:!1},numberingSystem:{type:String,required:!1},dateStyle:{type:String,required:!1},timeStyle:{type:String,required:!1},hourCycle:{type:String,required:!1},relative:{type:Boolean,required:!1},numeric:{type:String,required:!1},relativeStyle:{type:String,required:!1},title:{type:[Boolean,String],required:!1}},setup(y){const t=y,l=D()?.vnode.el,o=l?.getAttribute("datetime"),u=l?.getAttribute("data-locale"),d=_(),n=a(()=>{const e=t.datetime;return o&&d.isHydrating?new Date(o):t.datetime?new Date(e):new Date}),c=N(d.isHydrating&&window._nuxtTimeNow?new Date(window._nuxtTimeNow):new Date);if(t.relative){const r=setInterval(()=>{c.value=new Date},1e3);I(()=>clearInterval(r))}const f=a(()=>{const{locale:e,relative:r,relativeStyle:s,...i}=t;return r?new Intl.RelativeTimeFormat(u??e,{...i,style:s}):new Intl.DateTimeFormat(u??e,i)}),g=a(()=>{if(m.value)return n.value.toString();if(!t.relative)return f.value.format(n.value);const e=(n.value.getTime()-c.value.getTime())/1e3,r=[{unit:"second",seconds:1,threshold:60},{unit:"minute",seconds:60,threshold:60},{unit:"hour",seconds:3600,threshold:24},{unit:"day",seconds:86400,threshold:30},{unit:"month",seconds:2592e3,threshold:12},{unit:"year",seconds:31536e3,threshold:1/0}],{unit:s,seconds:i}=r.find(({seconds:q,threshold:w})=>Math.abs(e/q)<w)||r[r.length-1],h=e/i;return f.value.format(Math.round(h),s)}),m=a(()=>Number.isNaN(n.value.getTime())),p=a(()=>m.value?void 0:n.value.toISOString()),S=a(()=>t.title===!0?p.value:typeof t.title=="string"?t.title:void 0),v={};return(e,r)=>(T(),x("time",B(v,{datetime:p.value,title:S.value}),b(g.value),17,A))}};export{k as _};
