import{W as k,au as y,aw as p,Z as C,N as s,O as i,P as m,R as v,av as M,S as h,a4 as c,a1 as $,al as x,aq as f,ag as b,Y as _,aI as j}from"./Du3Wvoik.js";const I={ref:"media",class:"overflow-hidden",style:{"--_mediaColor":"var(--mediaColor,var(--color-text-disabled))"}},E={class:"relative h-full w-full"},N={key:0},O={key:0,class:"absolute h-full w-full"},T={class:"grid size-full place-items-center bg-(--_mediaColor)/30 text-(--_mediaColor) transition-[color,background]"},V=["src"],z=["src"],B=k({__name:"SmartMedia",props:{url:{}},setup(l){const e=b(()=>{if(!l.url)return null;const r=l.url.split(".").pop()||"";if(j(l.url))return"icon";if(["mp4","webm","ogg"].includes(r))return"video";if(["jpg","jpeg","png","gif","svg","webp"].includes(r))return"image";throw new Error(`Unknown media type for URL: ${l.url}`)}),a=_(!1),o=_(!1),d=b(()=>!l.url||!o.value||!a.value),n=y("media");return p(()=>l.url,()=>{o.value=!1}),C(()=>{const r=new IntersectionObserver(t=>{t.forEach(u=>{a.value=u.isIntersecting})});n.value&&r.observe(n.value)}),(r,t)=>{const u=M,w=x;return s(),i("div",I,[m("div",E,[v(u,null,{default:h(()=>[d.value?(s(),i("div",N,[...t[3]||(t[3]=[m("div",{class:"absolute z-10 h-full w-full animate-pulse bg-(--_mediaColor)/50 transition-[opacity,background]"},null,-1)])])):c("",!0)]),_:1}),v(u,null,{default:h(()=>[a.value?(s(),i($,{key:0},[e.value==="icon"?(s(),i("div",O,[m("div",T,[v(w,{onVnodeMounted:t[0]||(t[0]=g=>f(()=>o.value=!0)),name:l.url,class:"h-2/3 w-2/3"},null,8,["name"])])])):c("",!0),e.value==="image"?(s(),i("img",{key:1,src:l.url,loading:"lazy",onLoad:t[1]||(t[1]=g=>f(()=>o.value=!0)),class:"absolute block h-full w-full object-cover"},null,40,V)):e.value==="video"?(s(),i("video",{key:2,src:l.url,onLoadeddata:t[2]||(t[2]=g=>f(()=>o.value=!0)),autoplay:"",muted:"",loop:"",playsinline:"",class:"absolute block h-full w-full object-cover"},null,40,z)):c("",!0)],64)):c("",!0)]),_:1})])],512)}}}),R=Object.assign(B,{__name:"SmartMedia"});function S(l){let e=2166136261;for(let n=0;n<l.length;n++)e=(e^l.charCodeAt(n))>>>0,e=Math.imul(e,16777619)>>>0;e=(e^e>>>16)>>>0,e=Math.imul(e,73244475)>>>0,e=(e^e>>>16)>>>0;const a=Math.floor(e/4294967296*360),o=`hsl(${a}, 70%, 35%)`,d=`hsl(${a}, 70%, 68%)`;return`light-dark(${o}, ${d})`}export{R as _,S as s};
