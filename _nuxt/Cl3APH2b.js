import s from"./DpjIPzf1.js";import{W as i,bn as _,Z as p,bz as w,N as x,O as u,R as m,ac as l}from"./CmFBBqW5.js";const y=["id"],f=i({__name:"Yandex",props:{data:{}},setup(d){const r=d,o=_(),c=()=>new Promise((e,a)=>{if(window.__yandexScriptLoaded){e();return}if(window.__yandexScriptLoading){const t=()=>{window.__yandexScriptLoaded?e():setTimeout(t,50)};t();return}window.__yandexScriptLoading=!0,window.yaContextCb=window.yaContextCb||[];const n=document.createElement("script");n.src="https://yandex.ru/ads/system/context.js",n.async=!0,n.onload=()=>{window.__yandexScriptLoaded=!0,window.__yandexScriptLoading=!1,e()},n.onerror=()=>{window.__yandexScriptLoading=!1,a(new Error("Failed to load Yandex context script"))},document.head.appendChild(n)});return p(async()=>{try{await c();const{binaryTheme:e}=w();window.yaContextCb.push(()=>{Ya?.Context?.AdvManager?.render({blockId:r.data.blockId,renderTo:o,darkTheme:e.value==="dark"})})}catch(e){console.error("Failed to load Yandex ads:",e)}}),(e,a)=>{const n=s;return x(),u("div",{id:l(o)},[m(n)],8,y)}}}),C=Object.assign(f,{__name:"AdsProviderYandex"});export{C as default};
