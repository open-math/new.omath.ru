import{u as b,B as w}from"./CwMVXWty.js";import{X as _,a9 as l,a_ as T,$ as B,O as s,a1 as d,U as v,T as C,ac as o,ad as E,R as i,a5 as u,S as h,Q as P,Z as y}from"./DBNqVam1.js";import{u as I}from"./B7_bfpoK.js";import{u as N}from"./C0LZQwxt.js";import{u as S}from"./nRzMhuUn.js";import{u as V}from"./0I3aU9gE.js";import"./SluB1RCD.js";import"./BokzypnP.js";import"./BhiKTfhB.js";import"./D5fLQY3u.js";const $={class:"p-(--proseAsideWidth)"},q={class:"group-hocus:text-(--linkColor) mb-small gap-small font-medium text-(--linkColor)/80 transition-[color]"},A={class:"text-text-muted"},D={key:0,class:"text-text-dimmed mt-small text-main-xs"},j=_({__name:"BlockLink",props:{element:{}},async setup(r){let e,n;const{EruditLink:g,EruditIcon:c,eruditIcons:k}=I(),p=([e,n]=l(()=>b(T.name)),e=await e,n(),e),t=([e,n]=l(()=>N(r.element)),e=await e,n(),e),m=S(),x=y(),f=y();t.type==="unique"&&(x.value=([e,n]=l(()=>b(t.schemaName)),e=await e,n(),e),f.value=([e,n]=l(()=>V(t.schemaName)),e=await e,n(),e));const a=([e,n]=l(()=>(async()=>{switch(t.type){case"unique":return{header:{icon:f.value,text:t.elementTitle||x.value.element_name},main:r.element.data.label,footer:t.content?{icon:k[t.content.contentType==="topic"?t.content.topicPart:t.content.contentType],text:t.content.contentTitle}:void 0};case"contentItem":return{header:{icon:k[t.content.contentType==="topic"?t.content.topicPart:t.content.contentType],text:t.content.contentTitle},main:r.element.data.label};case"external":return{header:{icon:"arrow/outward-box",text:p.external_link},main:r.element.data.label};case"error":return{header:{text:p.broken_link},main:r.element.data.label}}})()),e=await e,n(),e);return B(()=>{t.type==="error"&&console.warn(`Error in link element with id "${r.element.id}": ${t.error}`)}),(L,z)=>(s(),d(w,{element:r.element},{default:v(()=>[C(o(g),{target:"_blank",to:o(t).type==="error"?void 0:o(t).resolvedHref,class:E([`group hocus:bg-(--linkColor)/10 hocus:border-(--linkColor)/40 relative
        block rounded-xl border-2 border-dashed border-(--linkColor)/20
        bg-(--linkColor)/5 transition-[border,background]`,o(t).type==="error"?`cursor-not-allowed [--linkColor:var(--color-red-500)]
            dark:[--linkColor:var(--color-red-400)]`:"[--linkColor:var(--color-brand)]"])},{default:v(()=>[C(o(c),{name:"arrow/outward",class:"group-hocus:text-(--linkColor)/20 p-small right-small float-right shrink-0 text-[80px] text-(--linkColor)/15"}),i("div",$,[i("div",q,[o(a).header.icon?(s(),d(o(c),{key:0,name:o(a).header.icon,class:"mr-small relative top-0.5 inline align-baseline text-[1.1em]"},null,8,["name"])):u("",!0),i("span",null,h(o(m)(o(a).header.text)),1)]),i("div",A,h(o(m)(o(a).main)),1),o(a).footer?(s(),P("div",D,[o(a).footer.icon?(s(),d(o(c),{key:0,name:o(a).footer.icon,class:"mr-small relative top-0.5 inline align-baseline"},null,8,["name"])):u("",!0),i("span",null,h(o(m)(o(a).footer.text)),1)])):u("",!0)])]),_:1},8,["to","class"])]),_:1},8,["element"]))}});export{j as default};
