import s from"./DOnL-0rG.js";import{Q as i,b9 as _,S as p,ba as w,H as x,I as u,L as m,a6 as l}from"./D2eihLR_.js";const y=["id"],f=i({__name:"Yandex",props:{data:{}},setup(d){const r=d,a=_(),c=()=>new Promise((e,o)=>{if(window.__yandexScriptLoaded){e();return}if(window.__yandexScriptLoading){const t=()=>{window.__yandexScriptLoaded?e():setTimeout(t,50)};t();return}window.__yandexScriptLoading=!0,window.yaContextCb=window.yaContextCb||[];const n=document.createElement("script");n.src="https://yandex.ru/ads/system/context.js",n.async=!0,n.onload=()=>{window.__yandexScriptLoaded=!0,window.__yandexScriptLoading=!1,e()},n.onerror=()=>{window.__yandexScriptLoading=!1,o(new Error("Failed to load Yandex context script"))},document.head.appendChild(n)});return p(async()=>{try{await c();const{binaryTheme:e}=w();window.yaContextCb.push(()=>{Ya?.Context?.AdvManager?.render({blockId:r.data.blockId,renderTo:a,darkTheme:e.value==="dark"})})}catch(e){console.error("Failed to load Yandex ads:",e)}}),(e,o)=>{const n=s;return u(),x("div",{id:l(a)},[m(n)],8,y)}}}),C=Object.assign(f,{__name:"AdsProviderYandex"});export{C as default};
