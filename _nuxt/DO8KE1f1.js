import{s as T,_ as $}from"./B37EUJiU.js";import{a as C,k as s,l as p,Q as B,u as t,P as E,x,f as n,v as m,G as L,R as j,t as k,e as h,J as v,g as a,E as b,n as A,C as U,as as z,K as S,aa as G,F as M,U as R,c as F}from"./DPlMRrvx.js";const N={class:"gap-normal flex items-center"},O={class:"text-[0.9em]"},V={key:0,class:"pt-small text-text-muted text-sm"},D=C({__name:"Contribution",props:{contribution:{}},setup(o){return(e,_)=>{const c=$,l=B;return s(),p(l,{to:("PAGES"in e?e.PAGES:t(E)).contributor(o.contribution.contributorId),class:"p-normal hocus:bg-bg-accent block bg-transparent transition-[background]"},{default:x(()=>[n("div",N,[m(c,{class:"micro:size-[40px] size-[30px] shrink-0 rounded-full",style:j({"--mediaColor":("stringColor"in e?e.stringColor:t(T))(o.contribution.contributorId)}),url:o.contribution.avatarUrl?("withBaseUrl"in e?e.withBaseUrl:t(L))(o.contribution.avatarUrl):"user"},null,8,["style","url"]),n("span",O,k(o.contribution.name||o.contribution.contributorId),1)]),o.contribution.description?(s(),h("div",V,k(("formatText"in e?e.formatText:t(v))(o.contribution.description)),1)):a("",!0)]),_:1},8,["to"])}}}),et=Object.assign(D,{__name:"AsideMinorContentContribution"}),q={key:0,class:"absolute top-0 left-0 z-10 h-full w-full"},J={class:"bg-bg-aside flex h-full w-full flex-col justify-end"},K={class:"nice-scrollbars overflow-auto *:border-t *:border-b-0"},Q={class:"border-border flex items-center border-t py-1 pr-0"},H={class:"pl-normal flex-1 text-sm font-semibold"},W={class:"border-border group-hocus:border-text-dimmed grid size-[40px] place-items-center rounded-full border-3 border-dashed transition-[border]"},X=C({__name:"ButtonPaneImprove",props:{contentRelativePath:{},contentType:{},topicPart:{}},async setup(o){let e,_;const c=R(!1),l=b.config.project.contributors?.howToImproveLink,f=b.config.project.contributors?.reportIssueLink,g=F(()=>{const r=b.config.project.contributors?.editLinkPrefix;if(r){const i=(()=>{switch(o.contentType){case"book":return"/book.ts";case"page":return"/page.tsx";case"group":return"/group.ts";case"topic":return`/${o.topicPart}.tsx`}})();return`${r}${o.contentRelativePath}${i}`}}),w=b.config.project.contributors?.enabled&&(l||f||g),u=([e,_]=A(()=>U("make_contribution","improve_material","how_to_improve","report_issue","edit_page")),e=await e,_(),e);return(r,i)=>{const d=z,y=S,I=G;return t(w)?(s(),h(M,{key:0},[m(I,null,{default:x(()=>[t(c)?(s(),h("div",q,[n("div",J,[n("div",K,[t(l)?(s(),p(d,{key:0,icon:"question-circle",main:t(u).how_to_improve,to:t(l),target:"_blank"},null,8,["main","to"])):a("",!0),t(f)?(s(),p(d,{key:1,icon:"bug",main:t(u).report_issue,to:t(f),target:"_blank"},null,8,["main","to"])):a("",!0),t(g)?(s(),p(d,{key:2,icon:"draw",main:t(u).edit_page,to:t(g),target:"_blank"},null,8,["main","to"])):a("",!0)]),n("div",Q,[n("div",H,k(("formatText"in r?r.formatText:t(v))(t(u).improve_material)),1),n("button",{onClick:i[0]||(i[0]=P=>c.value=!1),class:"text-text-muted hocus:text-text p-normal cursor-pointer transition-[color]"},[m(y,{name:"plus",class:"rotate-45 text-[24px] leading-none"})])])])])):a("",!0)]),_:1}),m(d,{main:("formatText"in r?r.formatText:t(v))(t(u).make_contribution),onClick:i[1]||(i[1]=P=>c.value=!0),class:"group border-t border-b-0 py-1"},{icon:x(()=>[n("div",W,[m(y,{name:"draw",class:"text-text-muted size-[56%]"})])]),_:1},8,["main"])],64)):a("",!0)}}}),ot=Object.assign(X,{__name:"AsideMinorContentButtonPaneImprove"});export{ot as B,et as C};
