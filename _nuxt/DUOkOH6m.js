import{u as p}from"./DUhOrFD9.js";import{d as y,l as g}from"./DN10LihG.js";import{B as k}from"./DQSe4NUK.js";import{_ as w}from"./Bg_mMmNf.js";import{X as x,a9 as _,au as V,$,av as B,O as d,a1 as u,U as I,R as C,aV as D,ac as r,a5 as L,Z as l,_ as M}from"./D_GAU_kb.js";import"./CP2XOIbp.js";import"./CVaqpPYf.js";import"./YHieYHGE.js";import"./6yqU-1zY.js";import"./kHqF3ywV.js";import"./DHz_IMr8.js";import"./BD6_BLMO.js";const b=["src"],S=x({__name:"Video",props:{element:{}},async setup(e){let a,i;const v=([a,i]=_(()=>p(e.element)),a=await a,i(),a),m=V("video"),n=l(null),s=l(!1),o=l(!1);return e.element.data.autoplay||(s.value=!0,o.value=!0),$(()=>{if(!m.value)return;const t=m.value,c={rootMargin:"0px 0px 75px 0px",threshold:0};n.value=new IntersectionObserver(f=>{const h=f[0];try{h.isIntersecting?(s.value=!0,o.value||t.play()):(s.value?o.value=t.paused:o.value=!1,t.pause())}catch{}},c),n.value.observe(t)}),B(()=>{n.value&&n.value.disconnect()}),(t,c)=>(d(),u(k,{element:e.element},{default:I(()=>[C("video",D({ref:"video",src:r(v).resolvedSrc,preload:"metadata",loop:"",muted:"",playsinline:"",controls:"",class:["m-auto rounded-xl",{[r(g)+" "+t.$style.invertLight]:e.element.data.invert==="light",[r(y)+" "+t.$style.invertDark]:e.element.data.invert==="dark"}]},e.element.data.width?{style:{width:e.element.data.width,maxWidth:`min(${e.element.data.width}, 100%)`}}:{}),null,16,b),e.element.children?(d(),u(w,{key:0,caption:e.element.children[0]},null,8,["caption"])):L("",!0)]),_:1},8,["element"]))}}),q="_invertLight_1y0aq_2",E="_invertDark_1y0aq_3",N={invertLight:q,invertDark:E},O={$style:N},H=M(S,[["__cssModules",O]]);export{H as default};
