import{G as V,a as v,e as c,g as f,k as a,f as l,h as t,n as j,C as B,u as F,U as w,V as z,v as m,K as $,t as d,J as u,x as y,R as D,aa as K,F as C,r as T,l as g,c as L,S as I,_ as R,p as q,a2 as G,Q as N,y as U,o as H,E as J,bo as Q,B as W}from"./Co3pHHec.js";import{u as X,a as Y,s as Z}from"./Cbjy90RY.js";import{d as ee}from"./BcpCmZOY.js";function te(n){return V("/file/"+n)}const ne={key:0,class:"pl-small pb-small pt-main pr-main float-right max-[700px]:hidden"},oe=["src"],ae=v({__name:"MainDecoration",props:{decoration:{}},setup(n){return(e,i)=>n.decoration?(a(),c("section",ne,[l("img",{src:("fileUrl"in e?e.fileUrl:t(te))(n.decoration),class:"block aspect-square max-h-[125px] w-full max-w-[125px]"},null,8,oe)])):f("",!0)}}),Ke=Object.assign(ae,{__name:"MainDecoration"}),se={class:"bg-bg-main rounded border-2 border-(--flagColor)/30 shadow-[0_0_14px_var(--flagColor)]/40 dark:shadow-[0_0_14px_var(--flagColor)]/20"},re={class:"p-small bg-linear-60 from-(--flagColor)/5 to-(--flagColor)/20 text-(--flagColor)"},ce={class:"p-small float-right pt-0 pr-0"},le={class:"pb-small text-main-sm font-semibold"},ie={class:"text-main-xs"},de=v({__name:"MainFlag",props:{flag:{}},async setup(n){let e,i;const s=([e,i]=j(()=>B("flag_advanced","flag_advanced_description","flag_dev","flag_dev_description","flag_secondary","flag_secondary_description")),e=await e,i(),e),o={dev:{icon:"construction",color:"light-dark(var(--color-yellow-700),var(--color-yellow-500))",title:s.flag_dev,description:s.flag_dev_description},advanced:{icon:"asterisk",color:"light-dark(#72189a,#ff94ff)",title:s.flag_advanced,description:s.flag_advanced_description},secondary:{icon:"puzzle",color:"light-dark(#558a1a,#8bb759)",title:s.flag_secondary,description:s.flag_secondary_description}}[n.flag],k=F("reference"),b=F("popup"),_=w(!1),p=w(null),{floatingStyles:x}=X(k,b,{placement:"bottom",whileElementsMounted:Y,middleware:[Z({boundary:document?.querySelector("[data-erudit-main]")||void 0})]}),M=()=>{p.value=setTimeout(()=>{_.value=!0},400)},O=()=>{p.value&&(clearTimeout(p.value),p.value=null),_.value=!1};return z(()=>{p.value&&clearTimeout(p.value)}),(h,S)=>{const E=$,A=K;return a(),c("div",{ref:"reference",style:D({"--flagColor":t(o).color}),onMouseenter:M,onMouseleave:O},[l("div",{onTouchstart:S[0]||(S[0]=Pe=>t(_)?O():M()),class:"px-small text-main-sm flex cursor-help items-center gap-1 rounded border border-(--flagColor)/30 bg-(--flagColor)/15 py-1 text-(--flagColor)"},[m(E,{name:t(o).icon,class:"text-[1.3em]"},null,8,["name"]),l("span",null,d(("formatText"in h?h.formatText:t(u))(t(o).title)),1)],32),m(A,null,{default:y(()=>[t(_)?(a(),c("div",{key:0,style:D(t(x)),ref:"popup",class:"z-10 max-w-[320px] p-2"},[l("div",se,[l("div",re,[l("div",ce,[m(E,{name:t(o).icon,class:"text-[40px] opacity-30"},null,8,["name"])]),l("div",le,d(("formatText"in h?h.formatText:t(u))(t(o).title)),1),l("div",ie,d(("formatText"in h?h.formatText:t(u))(t(o).description)),1)])])],4)):f("",!0)]),_:1})],36)}}}),ue=Object.assign(de,{__name:"MainFlag"}),me={key:0,class:"gap-small micro:gap-normal micro:justify-start px-main py-main-half flex flex-wrap justify-center"},_e=v({__name:"MainFlags",props:{flags:{}},setup(n){const e=n.flags?Object.keys(n.flags).sort():[];return(i,s)=>{const r=ue;return n.flags?(a(),c("section",me,[(a(!0),c(C,null,T(t(e),o=>(a(),g(r,{flag:o},null,8,["flag"]))),256))])):f("",!0)}}}),Le=Object.assign(_e,{__name:"MainFlags"}),pe={class:"font-bold"},fe=v({__name:"MainConnectionsButton",props:{type:{},active:{type:Boolean},count:{}},async setup(n){let e,i;const s=n.type==="hardDependencies",r=([e,i]=j(()=>B("need_to_know","depends_on","used_by","externals")),e=await e,i(),e),o=(()=>{switch(n.type){case"hardDependencies":return r.need_to_know;case"autoDependencies":return r.depends_on;case"dependents":return r.used_by;case"externals":return r.externals}})(),k=(()=>{switch(n.type){case"hardDependencies":return"warning";case"autoDependencies":return"arrow/to-circle";case"dependents":return"arrow/from-circle";case"externals":return"arrow/outward-box"}})(),b=L(()=>n.active?"border-(--activeColor) text-(--activeColor) bg-(--activeColor)/10 hocus:ring-(--activeColor)/25":"border-border bg-bg-aside text-text-muted hocus:ring-(--activeColor)/25 hocus:text-(--activeColor) hocus:border-(--activeColor)");return(_,p)=>{const x=$;return a(),c("button",{style:D({"--activeColor":s?"light-dark(var(--color-red-700),var(--color-red-400))":"var(--color-brand)"}),class:I([`gap-small text-main-sm px-small flex cursor-pointer items-center
            rounded border py-1 ring-2 ring-transparent
            transition-[border,color,box-shadow,background]`,t(b)])},[m(x,{name:t(k),class:"text-[1.2em]"},null,8,["name"]),l("span",null,d(("formatText"in _?_.formatText:t(u))(t(o))),1),l("span",pe,d(n.count),1)],6)}}}),xe=Object.assign(fe,{__name:"MainConnectionsButton"}),ge={},ve={class:"nice-scrollbars border-border gap-main-half mt-normal py-normal relative flex max-h-[500px] flex-col overflow-auto border-t border-b transition-[border]"};function he(n,e){return a(),c("div",ve,[q(n.$slots,"default")])}const P=Object.assign(R(ge,[["render",he]]),{__name:"MainConnectionsScrollPane"}),be={class:"gap-small flex"},ye={class:"flex flex-col gap-0.5"},Ce={key:0,class:"text-text-muted text-main-sm italic"},ke=v({__name:"Deps",props:{deps:{}},setup(n){return(e,i)=>{const s=$,r=N;return a(),g(P,null,{default:y(()=>[(a(!0),c(C,null,T(n.deps,o=>(a(),c("div",be,[m(s,{name:("ICONS"in e?e.ICONS:t(G))[o.contentType],class:"relative top-1 shrink-0"},null,8,["name"]),l("div",ye,[l("div",null,[m(r,{to:o.link,class:"text-hover-underline"},{default:y(()=>[U(d(("formatText"in e?e.formatText:t(u))(o.title))+" ",1),m(s,{name:"arrow/outward",class:"text-text-disabled text-main-sm relative -top-1 inline"})]),_:2},1032,["to"])]),o.type==="hard"?(a(),c("div",Ce,d(("formatText"in e?e.formatText:t(u))(o.reason)),1)):f("",!0)])]))),256))]),_:1})}}}),we=Object.assign(ke,{__name:"MainConnectionsDeps"}),$e={class:"gap-small flex"},Te={class:"flex flex-col gap-0.5"},Me={key:1},De={key:0,class:"text-text-muted text-main-sm"},je={class:"text-text-muted text-main-sm italic"},Be=v({__name:"Externals",props:{externals:{}},setup(n){return(e,i)=>{const s=$,r=N;return a(),g(P,null,{default:y(()=>[(a(!0),c(C,null,T(n.externals,o=>(a(),c("div",$e,[m(s,{name:o.type==="physical"?"book":"globe",class:"relative top-1 shrink-0"},null,8,["name"]),l("div",Te,[l("div",null,[o.type==="web"?(a(),g(r,{key:0,external:"",target:"_blank",to:o.link,class:I([o.link&&"text-hover-underline"])},{default:y(()=>[U(d(("formatText"in e?e.formatText:t(u))(o.title))+" ",1),o.link?(a(),g(s,{key:0,name:"arrow/outward",class:"text-text-disabled text-main-sm relative -top-1 inline"})):f("",!0)]),_:2},1032,["to","class"])):(a(),c("span",Me,d(("formatText"in e?e.formatText:t(u))(o.title)),1))]),o.info?(a(),c("div",De,d(("formatText"in e?e.formatText:t(u))(o.info)),1)):f("",!0),l("div",je,d(("formatText"in e?e.formatText:t(u))(o.reason)),1)])]))),256))]),_:1})}}}),Oe=Object.assign(Be,{__name:"MainConnectionsExternals"}),Se={key:0,class:"px-main py-main-half"},Ee={class:"gap-small micro:gap-normal micro:justify-start flex flex-wrap justify-center"},Fe=v({__name:"MainConnections",props:{connections:{}},async setup(n){let e,i;const s=([e,i]=j(()=>B("connections")),e=await e,i(),e),r=w("hardDependencies");return(o,k)=>{const b=ee,_=xe;return n.connections?(a(),c("section",Se,[m(b,{title:t(s).connections+":"},null,8,["title"]),l("div",Ee,[(a(!0),c(C,null,T(n.connections,(p,x)=>(a(),g(_,{type:x,count:p.length,active:t(r)===x,onClick:M=>t(r)===x?r.value=void 0:r.value=x},null,8,["type","count","active","onClick"]))),256))]),t(r)&&n.connections[t(r)]?(a(),c(C,{key:0},[t(r)!=="externals"?(a(),g(we,{key:0,deps:n.connections[t(r)]},null,8,["deps"])):(a(),g(Oe,{key:1,externals:n.connections[t(r)]},null,8,["externals"]))],64)):f("",!0)])):f("",!0)}}}),Re=Object.assign(Fe,{__name:"MainConnections"}),Ie={key:0,class:"px-main py-main"},Ne={class:"relative max-h-[300px] overflow-hidden"},Ue=v({__name:"AdsBannerBottom",setup(n){const e=w();return H(()=>{e.value=J.config.project.ads.bottom}),(i,s)=>{const r=Q;return t(e)?(a(),c("section",Ie,[l("div",Ne,[m(r,{data:t(e)},null,8,["data"])])])):f("",!0)}}}),qe=Object.assign(Ue,{__name:"AdsBannerBottom"});async function Ge(n){const e=W(),i="main-content",s=e.static.data[i]||=e.payload.data[i]||={};return(async()=>(s.contentPath!==n&&(s.contentPath=n,s.mainContent=await $fetch("/api/main/content/"+n,{responseType:"json"})),s.mainContent))()}export{Ke as _,Le as a,Re as b,qe as c,Ge as u};
