import{P as h,i as m,v as P,a as C,m as S,b as f,d as b,p as I,s as k,c as R,e as q,f as w,g as x,h as G,j as D,k as T,l as j,n as p,o as A,q as M,r as z,t as v,u as F,w as L,x as O,y as B,z as H,A as J,B as U,C as K,D as N,E as Y,F as Q,G as V,H as W,I as X,J as Z,K as $,L as ee,M as re}from"./D_GAU_kb.js";import{P as te,D as u}from"./DidrgFjr.js";function ne(e,i){let s,a;if(typeof e=="string")s=e,a=i;else throw new h("Problem script requires script ID to be manually specified or inserted at transform time!");function g(_){function E(...y){const n={};if(a.uniques){const o=y[0];if(typeof o=="function")for(const r in a.uniques)n[r]=o();else for(const r in o){const t=o[r];typeof t=="function"?n[r]=t():(n[r]=t,delete n[r].rawElement,delete n[r].tag)}}return{scriptSrc:s,uniques:n,isGenerator:a.isGenerator??!1,generate:o=>{const r=o??u,t=_({uniques:n,...a.isGenerator?{initial:r===u,random:new te(r)}:{}}),l=m(t)?t:t.problemContent;return P("[Problem Script]",l.children),{problemContent:l.children,check:m(t)?void 0:t.check}}}}return E}return g}function c(e){try{return C({...e})}catch{return S({...e})}}function d(e,i){const s={...i,__JSPROSE_registryProp:f};return e===c?c(s):e(s)}const oe=d,se=b(j,T,D.coreElement,G.coreElement,x.coreElement,w,q,R,k,I),ae=b({registryItem:M,dependencies:p},{registryItem:A,dependencies:p}),ie={math:String.raw},ce=[z,v,F,L,O,B,H,J,U,K,N,Y,Q,V,se,W,X,ae,Z,$,ee,re].flatMap(e=>Array.isArray(e)?e:[e]),le={...ie};function ue(){for(const e of ce)f.addItem(e.registryItem),Object.assign(globalThis,e.registryItem.tags||{});Object.assign(globalThis,{jsx:d,jsxs:oe,Fragment:c,defineProblemScript:ne,...le})}export{ue as registerProseGlobals};
