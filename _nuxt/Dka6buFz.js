import{a as h,n as i,k as v,l as k,x as c,v as l,u as a,Z as y,f as G,t as C}from"./DPlMRrvx.js";import{a as T}from"./TomfVRdr.js";import{u as g}from"./CjViLBBa.js";import{u as E}from"./Oph26Vh0.js";import{u as I}from"./BoGMoBBf.js";import{_ as P}from"./vVUd0YR1.js";const B={class:"whitespace-normal"},A=h({__name:"Link",props:{element:{}},async setup(o){let t,n;const{EruditIcon:m,EruditLink:p,eruditIcons:u,setPreview:d,closePreview:f,baseUrl:x}=T(),b=g(),e=([t,n]=i(()=>E(o.element)),t=await t,n(),t),w=([t,n]=i(async()=>(async()=>{switch(e.type){case"direct":return"arrow/outward-box";case"contentItem":return u[e.content.contentType==="topic"?e.content.topicPart:e.content.contentType];case"unique":return await I(e.schemaName)}})()),t=await t,n(),t),r={timeout:void 0,startTimeout(){this.timeout=setTimeout(()=>{this.reset()},400)},reset(){clearTimeout(this.timeout),this.timeout=void 0}};function _(){if(r.timeout){r.reset(),f();const s=e.type==="direct"?e.resolvedHref:x+e.resolvedHref.slice(1);return window.open(s,"_blank"),!1}return d(e.previewRequest),r.startTimeout(),!1}return(s,H)=>(v(),k(P,{element:o.element},{default:c(()=>[l(a(p),{onClickCapture:y(_,["prevent"]),to:a(e).resolvedHref,style:{"--tGap":"1px","--xGap":"4px","--bGap":"4px"},class:"text-brand hocus:bg-brand/15 relative -mx-[calc(var(--xGap)-3px)] -mt-(--tGap) -mb-(--bGap) rounded-sm bg-transparent px-(--xGap) pt-(--tGap) pb-(--bGap) whitespace-nowrap underline decoration-[color-mix(in_srgb,var(--color-brand)30%,transparent)] decoration-2 underline-offset-2 transition-[background]"},{default:c(()=>[l(a(m),{name:a(w),class:"micro:pr-1.5 inline pr-1 text-[1.3em]"},null,8,["name"]),G("span",B,C(a(b)(o.element.data.label)),1)]),_:1},8,["to"])]),_:1},8,["element"]))}});export{A as default};
