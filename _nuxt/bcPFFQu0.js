import{a as M,n as S,C as U,k as l,e as u,v as x,x as $,u as c,f as h,F as I,r as T,l as w,t as B,J as z,K as V,g as C,aa as j,R as H,G as P,as as R,c as A,U as E,bc as q,a3 as F,i as Y,o as N,w as D,V as O,ad as G,S as L,ba as J,_ as K,bb as Q,a6 as W,s as X,al as Z}from"./DPlMRrvx.js";import{_ as ee,s as te}from"./B37EUJiU.js";import{C as ne}from"./DO8KE1f1.js";const oe={key:0,class:"absolute top-0 left-0 z-10 h-full w-full"},se={class:"bg-bg-aside flex h-full w-full flex-col justify-end"},ie={class:"nice-scrollbars *:border-border overflow-auto *:border-t"},le={class:"border-border flex items-center border-t py-1 pr-0"},ae={class:"pl-normal gap-small flex flex-1 items-center text-sm font-semibold"},re={class:"text-invert rounded-full bg-neutral-600 px-[8px] py-[2.5px] text-xs font-semibold dark:bg-neutral-300"},ce={key:0,class:"border-border group-hocus:border-text-dimmed grid size-[38px] place-items-center rounded-full border-3 border-dashed text-xs font-semibold transition-[border,color]"},de=M({__name:"ButtonPaneContributions",props:{contributions:{}},async setup(e){let a,v;const g=A(()=>e.contributions?[...e.contributions].sort(()=>Math.random()-.5).slice(0,Math.min(4,e.contributions.length)):[]),m=A(()=>e.contributions?e.contributions.length-g.value.length:0),f=E(!1),s=([a,v]=S(()=>U("contribution")),a=await a,v(),a);return(d,r)=>{const i=V,o=j,t=ee,b=R;return e.contributions?(l(),u(I,{key:0},[x(o,null,{default:$(()=>[c(f)?(l(),u("div",oe,[h("div",se,[h("div",ie,[(l(!0),u(I,null,T(e.contributions.sort((n,y)=>n.contributorId.localeCompare(y.contributorId)),n=>(l(),w(ne,{contribution:n},null,8,["contribution"]))),256))]),h("div",le,[h("div",ae,[h("span",null,B(("formatText"in d?d.formatText:c(z))(c(s).contribution)),1),h("span",re,B(e.contributions.length),1)]),h("button",{onClick:r[0]||(r[0]=n=>f.value=!1),class:"text-text-muted hocus:text-text p-normal cursor-pointer transition-[color]"},[x(i,{name:"plus",class:"rotate-45 text-[24px] leading-none"})])])])])):C("",!0)]),_:1}),x(b,{onClick:r[1]||(r[1]=n=>f.value=!0),class:"group border-t border-b-0 py-1"},{main:$(()=>[(l(!0),u(I,null,T(c(g),n=>(l(),w(t,{url:n.avatarUrl?("withBaseUrl"in d?d.withBaseUrl:c(P))(n.avatarUrl):"user",style:H({"--mediaColor":("stringColor"in d?d.stringColor:c(te))(n.contributorId)}),class:"size-[38px] rounded-full"},null,8,["url","style"]))),256)),c(m)?(l(),u("div",ce," +"+B(c(m)),1)):C("",!0)]),_:1})],64)):C("",!0)}}}),Ce=Object.assign(de,{__name:"AsideMinorContentButtonPaneContributions"}),ue={key:0,class:"group/children relative overflow-hidden"},me=M({__name:"TocItem",props:{item:{},level:{}},async setup(e){let a,v;const g=([a,v]=S(async()=>(async()=>{let s=e.item.type==="heading"?q.name:e.item.schemaName;return await F(s)})()),a=await a,v(),a),m=E(!1),f=Y("activeHeadingIds",E(new Set));return N(()=>{if(e.item.type==="heading")D(f,s=>{m.value=s.has(e.item.elementId)},{immediate:!0});else if(e.item.elementId){const s=document.getElementById(e.item.elementId);if(s){const d=new IntersectionObserver(r=>{r.forEach(i=>{m.value=i.isIntersecting})});d.observe(s),O(()=>{d.disconnect()})}}}),(s,d)=>{const r=J,i=G("TocItem",!0);return l(),u("div",{class:L([s.$style.item,c(m)&&s.$style.activeItem])},[x(r,{level:e.level,icon:c(g),main:("formatText"in s?s.formatText:c(z))(e.item.title),state:c(m)?"active":void 0,to:"#"+e.item.elementId},null,8,["level","icon","main","state","to"]),e.item.type==="heading"?(l(),u("div",ue,[h("div",{style:H({"--level":e.level?+e.level:0}),class:L([`border-text-dimmed absolute top-0
                    left-[calc(var(--spacing-normal)*(var(--level)+1)+6.5px)]
                    h-full border-l opacity-40 transition-[border]`,s.$style.leftLine])},null,6),(l(!0),u(I,null,T(e.item.children,o=>(l(),w(i,{item:o,level:e.item.level},null,8,["item","level"]))),256))])):C("",!0)],2)}}}),fe="_item_15dsq_3",be="_activeItem_15dsq_3",ve="_leftLine_15dsq_7",_e={item:fe,activeItem:be,leftLine:ve},he={$style:_e},ge=Object.assign(K(me,[["__cssModules",he]]),{__name:"AsideMinorContentTocItem"}),ye={key:0},pe=M({__name:"Toc",props:{toc:{}},async setup(e){let a,v;const g=e,m=([a,v]=S(()=>U("no_toc")),a=await a,v(),a),f=X(new Set);Z("activeHeadingIds",f);function s(r){const i=[],o=t=>{t.type==="heading"&&(i.push(t),t.children.forEach(o))};return r.forEach(o),i}function d(r){const i=window.scrollY;let o=null;for(const{id:t,el:b}of r)if(b.offsetTop<i)o=t;else break;return o}return N(()=>{if(!g.toc)return;const i=s(g.toc).map(n=>({id:n.elementId,el:document.getElementById(n.elementId)})).filter(n=>!!n.el);if(i.length===0)return;const o=new Set;let t=d(i);t&&(f.value=new Set([t]));const b=new IntersectionObserver(n=>{let y=!1;for(const _ of n){const p=_.target.id;_.isIntersecting?o.has(p)||(o.add(p),y=!0):(o.delete(p)&&(y=!0),_.boundingClientRect.top<0?t=p:t===p&&(t=null))}if(!y)return;const k=new Set;if(o.size>0)o.forEach(_=>k.add(_));else if(t){const _=document.getElementById(t);_&&_.getBoundingClientRect().top<0&&k.add(t)}f.value=k},{root:null});i.forEach(({el:n})=>b.observe(n)),O(()=>{b.disconnect()})}),(r,i)=>{const o=Q,t=W;return e.toc?(l(),u("div",ye,[x(o,null,{default:$(()=>[(l(!0),u(I,null,T(e.toc,b=>(l(),w(ge,{key:b.elementId,item:b,level:0},null,8,["item"]))),128))]),_:1})])):(l(),w(t,{key:1,text:c(m).no_toc},null,8,["text"]))}}}),Te=Object.assign(pe,{__name:"AsideMinorContentToc"});export{Ce as B,Te as T};
