import{u as p}from"./C0LZQwxt.js";import{d as y,l as w}from"./DN10LihG.js";import{B as g}from"./CwMVXWty.js";import{_ as k}from"./cmr2k82a.js";import{X as x,a9 as _,au as $,$ as B,aH as I,O as c,a1 as u,U as V,R as C,aY as D,ac as r,a5 as L,Z as l,_ as M}from"./DBNqVam1.js";import"./B7_bfpoK.js";import"./SluB1RCD.js";import"./BokzypnP.js";import"./0I3aU9gE.js";import"./BhiKTfhB.js";import"./D5fLQY3u.js";import"./nRzMhuUn.js";import"./DYEhnw6d.js";const b=["src"],S=x({__name:"Video",props:{element:{}},async setup(e){let a,i;const v=([a,i]=_(()=>p(e.element)),a=await a,i(),a),m=$("video"),n=l(null),s=l(!1),o=l(!1);return e.element.data.autoplay||(s.value=!0,o.value=!0),B(()=>{if(!m.value)return;const t=m.value,d={rootMargin:"0px 0px 75px 0px",threshold:0};n.value=new IntersectionObserver(f=>{const h=f[0];try{h.isIntersecting?(s.value=!0,o.value||t.play()):(s.value?o.value=t.paused:o.value=!1,t.pause())}catch{}},d),n.value.observe(t)}),I(()=>{n.value&&n.value.disconnect()}),(t,d)=>(c(),u(g,{element:e.element},{default:V(()=>[C("video",D({ref:"video",src:r(v).resolvedSrc,preload:"metadata",loop:"",muted:"",playsinline:"",controls:"",class:["m-auto rounded-xl",{[r(w)+" "+t.$style.invertLight]:e.element.data.invert==="light",[r(y)+" "+t.$style.invertDark]:e.element.data.invert==="dark"}]},e.element.data.width?{style:{width:e.element.data.width,maxWidth:`min(${e.element.data.width}, 100%)`}}:{}),null,16,b),e.element.children?(c(),u(k,{key:0,caption:e.element.children[0]},null,8,["caption"])):L("",!0)]),_:1},8,["element"]))}}),E="_invertLight_1wd39_3",N="_invertDark_1wd39_5",O={invertLight:E,invertDark:N},P={$style:O},G=M(S,[["__cssModules",P]]);export{G as default};
